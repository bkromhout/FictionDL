/*
 * FictionDL build file.
 */
apply plugin: 'java'
apply plugin: 'com.github.johnrengelman.shadow'

version = '4.1.0' // DON'T FORGET TO CHANGE C.VER AS WELL!!!
sourceCompatibility = 1.8

// We'd really like to just have the shadow jar since we need the dependencies included.
jar.deleteAllActions()
shadowJar {
    classifier = ''
    manifest {
        attributes 'Main-Class': 'bkromhout.fdl.Main',
                   'Implementation-Title': 'FictionDL',
                   'Implementation-Version': version
    }
}
jar.dependsOn(shadowJar)

dependencies {
    compile 'org.jsoup:jsoup:1.9.2' // jsoup for HTML parsing.
    compile 'nl.siegmann.epublib:epublib-core:3.1' // epublib for creating ePUBS.
    compile 'commons-cli:commons-cli:1.3.1' // Commons CLI for parsing cmd args.
    compile 'com.google.code.gson:gson:2.7'
    // Big frameworks.
    compile 'com.google.guava:guava:19.0' // Guava.
    compile 'org.apache.commons:commons-lang3:3.4' // Useful for many things.
    // OkHttp stuff.
    compile 'com.squareup.okhttp3:okhttp:3.4.1'
    compile 'com.squareup.okhttp3:logging-interceptor:3.4.1'
    // RxJava stuff.
    compile 'io.reactivex:rxjava:1.1.9'
}

artifacts {
    shadowJar
}
